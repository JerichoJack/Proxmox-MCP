# ==========================
# PROXMOX MCP CONFIGURATION
# ==========================

# --- General Settings ---
VERIFY_SSL=False
LOG_LEVEL=INFO
ENABLE_EVENT_LISTENERS=True

# --- Lab Configuration ---
# Defines how your Proxmox environment is structured.
# Options:
#   STANDALONE → Each node is independent (no clustering)
#   CLUSTERED  → Nodes are part of a single Proxmox cluster
#   MIXED      → Combination of standalone and clustered nodes
LAB_CONFIGURATION=STANDALONE

# ==========================
# STANDALONE NODE EXAMPLES
# ==========================

# --- Standalone Proxmox VE Nodes ---
PVE_NODES=pve-main,pve-test

PVE_MAIN_HOST=192.168.1.100
PVE_MAIN_USER=root@pam
PVE_MAIN_TOKEN_NAME=mcp-api
PVE_MAIN_TOKEN_VALUE=12345678-abcdef12-98765432-fedcba98

PVE_TEST_HOST=192.168.1.101
PVE_TEST_USER=root@pam
PVE_TEST_TOKEN_NAME=mcp-api
PVE_TEST_TOKEN_VALUE=abcdef12-98765432-fedcba98-12345678

# --- Standalone PBS Nodes ---
PBS_NODES=pbs-main

PBS_MAIN_HOST=192.168.1.200
PBS_MAIN_USER=root@pam
PBS_MAIN_TOKEN_NAME=mcp-api
PBS_MAIN_TOKEN_VALUE=a1b2c3d4e5f6-7890abcd1234


# ==========================
# CLUSTERED NODE EXAMPLES
# ==========================

# --- Clustered Proxmox VE Nodes ---
# A Proxmox cluster combines multiple PVE nodes into a single system.
# Only one node’s API is needed for MCP (it can query cluster members automatically).
PVE_CLUSTER_NAME=pve-cluster
PVE_CLUSTER_PRIMARY_HOST=192.168.2.100
PVE_CLUSTER_PRIMARY_USER=root@pam
PVE_CLUSTER_PRIMARY_TOKEN_NAME=mcp-api
PVE_CLUSTER_PRIMARY_TOKEN_VALUE=cluster-token-abcdef1234

# Optionally define subnodes for fallback access
PVE_CLUSTER_SUBNODES=pve-node1,pve-node2
PVE_NODE1_HOST=192.168.2.101
PVE_NODE2_HOST=192.168.2.102

# --- Clustered PBS Nodes ---
PBS_CLUSTER_NAME=pbs-cluster
PBS_CLUSTER_PRIMARY_HOST=192.168.2.200
PBS_CLUSTER_PRIMARY_USER=root@pam
PBS_CLUSTER_PRIMARY_TOKEN_NAME=mcp-api
PBS_CLUSTER_PRIMARY_TOKEN_VALUE=cluster-pbs-token-987654321

# ==========================
# MIXED NODE EXAMPLES
# ==========================
# Combination of cluster and standalone nodes.
# For example:
# - Cluster with 3 PVE nodes
# - 2 standalone PVE test nodes
# - 1 standalone PBS server

LAB_CONFIGURATION=MIXED

# Clustered section
PVE_CLUSTER_NAME=prod-cluster
PVE_CLUSTER_PRIMARY_HOST=192.168.3.10
PVE_CLUSTER_PRIMARY_USER=root@pam
PVE_CLUSTER_PRIMARY_TOKEN_NAME=mcp-api
PVE_CLUSTER_PRIMARY_TOKEN_VALUE=prod-token-abc123

PVE_CLUSTER_SUBNODES=pve-prod1,pve-prod2,pve-prod3
PVE_PROD1_HOST=192.168.3.11
PVE_PROD2_HOST=192.168.3.12
PVE_PROD3_HOST=192.168.3.13

# Standalone section
PVE_NODES=pve-dev1,pve-dev2
PVE_DEV1_HOST=192.168.3.50
PVE_DEV2_HOST=192.168.3.51

# PBS Node
PBS_NODES=pbs-prod
PBS_PROD_HOST=192.168.3.20
PBS_PROD_USER=root@pam
PBS_PROD_TOKEN_NAME=mcp-api
PBS_PROD_TOKEN_VALUE=pbs-prod-token-abc123

# ==========================
# MCP EVENT INPUT / INGESTION CONFIG
# ==========================

# Enable the Event Listener system
ENABLE_EVENT_LISTENERS=True

# Comma-separated list of active listeners
# Supported: WEBSOCKET, EMAIL, SYSLOG, DISCORD_IN, GOTIFY_IN, NTFY
ENABLED_EVENT_LISTENERS=WEBSOCKET,EMAIL,SYSLOG,DISCORD_IN,GOTIFY_IN

# --- WebSocket ---
EVENT_WS_ENABLED=True
EVENT_WS_RECONNECT_INTERVAL=30
LOG_LEVEL=INFO

# --- Email ---
EVENT_EMAIL_ENABLED=True
EVENT_EMAIL_IMAP_SERVER=mail.example.com
EVENT_EMAIL_IMAP_PORT=993
EVENT_EMAIL_USERNAME=proxmox-alerts@example.com
EVENT_EMAIL_PASSWORD=supersecret
EVENT_EMAIL_FOLDER=INBOX
EVENT_EMAIL_POLL_INTERVAL=60

# --- Syslog ---
EVENT_SYSLOG_ENABLED=False
EVENT_SYSLOG_LISTEN_PORT=514
EVENT_SYSLOG_PARSE_FORMAT=proxmox

# --- Discord ---
DISCORD_IN_ENABLED=False
DISCORD_IN_WEBHOOK_URL=https://discord.com/api/webhooks/1234567890/abc123-input
DISCORD_IN_POLL_INTERVAL=30

# --- Gotify ---
GOTIFY_IN_ENABLED=True
GOTIFY_IN_SERVER_URL=https://gotify.example.com
GOTIFY_IN_CLIENT_TOKEN=abcd1234

# --- Ntfy ---
NTFY_ENABLED=False
NTFY_TOPIC=proxmox-alerts
NTFY_SERVER_URL=https://ntfy.example.com


# ==========================
# MCP NOTIFICATION OUTPUT
# ==========================

ENABLED_NOTIFIERS=DISCORD_OUT,GOTIFY_OUT,NTFY

# --- Discord ---
DISCORD_OUT_ENABLED=True
DISCORD_OUT_WEBHOOK_URL=https://discord.com/api/webhooks/1234567890/abc123-output

# --- Gotify ---
GOTIFY_OUT_ENABLED=True
GOTIFY_OUT_SERVER_URL=https://gotify.example.com
GOTIFY_OUT_APP_TOKEN=abcd1234

# --- Ntfy ---
NTFY_ENABLED=False
NTFY_TOPIC=proxmox-alerts
NTFY_SERVER_URL=https://ntfy.example.com

# --- Email ---
NOTIFY_EMAIL_ENABLED=False
NOTIFY_EMAIL_SERVER=smtp.example.com
NOTIFY_EMAIL_PORT=587
NOTIFY_EMAIL_FROM=alerts@example.com
NOTIFY_EMAIL_TO=admin@example.com
NOTIFY_EMAIL_PASSWORD=supersecret